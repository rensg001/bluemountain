{% macro pagination(page, page_size, total) %}
    {% set pages = (total / page_size)|int %}
    {% if (total / page_size) > pages %}
        {% set pages = pages + 1 %}
    {% endif %}
    {% if pages > 1 %}
        <nav aria-label="Page navigation">
            <ul class="pagination">
                {% set pre_page = page - 1 %}
                {% if pre_page < 1 %}
                    {% set pre_page = 1 %}
                {% endif %}
                <li class="{% if page == 1 %}disabled{% endif %}">
                    <a id="pre-page" href="javascript:void(0);" data-url="{{ handler.request.path }}?page={{ pre_page }}&page_size={{ page_size }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                {% for p in range(pages) %}
                    {% set p = p + 1 %}
                    <li class="{% if p == page %}active{% endif %}"><a class="page-number" href="javascript:void(0);" data-url="{{ handler.request.path }}?page={{ p }}&page_size={{ page_size }}">{{ p }}</a></li>
                {% endfor %}

                {% set next_page = page + 1 %}
                {% if next_page > pages %}
                    {% set next_page = pages %}
                {% endif %}
                <li class="{% if page == pages %}disabled{% endif %}">
                    <a id="next-page" href="javascript:void(0);" data-url="{{ handler.request.path }}?page={{ next_page }}&page_size={{ page_size }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    {% endif %}
{%- endmacro %}